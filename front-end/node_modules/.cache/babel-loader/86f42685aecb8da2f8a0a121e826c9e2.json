{"ast":null,"code":"var _jsxFileName = \"E:\\\\emergency-handling-react-node\\\\front-end\\\\src\\\\pages\\\\profile.js\",\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Loading from '../Component/Loading';\nimport UserProfile from '../Component/userProfile';\nimport user from '../images/user.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Profile = () => {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const [loading, setIsLoading] = useState();\n  const [userFound, setUserFound] = useState();\n  const [userData, setUserData] = useState();\n  const token = localStorage.getItem(\"token\");\n\n  const getProfile = async () => {\n    setIsLoading(true); //console.log(\"called\");\n\n    try {\n      const response = await fetch('https://sumon-backend.herokuapp.com/api/profile', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + token\n        }\n      });\n      const responseData = await response.json();\n\n      if (response.ok) {\n        setUserFound(true);\n        setUserData(responseData.data);\n      } else {\n        console.log(\"Error\");\n      }\n    } catch {\n      console.log(\"oops\");\n    }\n\n    setIsLoading(false);\n  };\n\n  function App() {\n    _s();\n\n    useEffect(() => {\n      getProfile();\n    }, []);\n  }\n\n  _s(App, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n  App();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: user,\n      id: \"person\",\n      alt: \"Responsive image\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"pr\",\n      children: \"My Profile\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), loading && /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 25\n    }, this), !loading && userFound && /*#__PURE__*/_jsxDEV(UserProfile, {\n      data: userData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 39\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n};\n\n_s2(Profile, \"gHEnwBtX1muBdssdNH+Op41kj8g=\");\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["E:/emergency-handling-react-node/front-end/src/pages/profile.js"],"names":["React","useState","useEffect","Loading","UserProfile","user","Profile","loading","setIsLoading","userFound","setUserFound","userData","setUserData","token","localStorage","getItem","getProfile","response","fetch","method","headers","responseData","json","ok","data","console","log","App"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;;;AAEA,MAAMC,OAAO,GAAG,MAAM;AAAA;;AAAA;;AAElB,QAAM,CAACC,OAAD,EAAUC,YAAV,IAA0BP,QAAQ,EAAxC;AACA,QAAM,CAACQ,SAAD,EAAYC,YAAZ,IAA4BT,QAAQ,EAA1C;AACA,QAAM,CAACU,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,EAAxC;AACA,QAAMY,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;;AACA,QAAMC,UAAU,GAAG,YAAY;AAC3BR,IAAAA,YAAY,CAAC,IAAD,CAAZ,CAD2B,CAE3B;;AACA,QAAG;AACH,YAAMS,QAAQ,GAAG,MAAMC,KAAK,CAAC,iDAAD,EAAqD;AAC7EC,QAAAA,MAAM,EAAE,MADqE;AAE7EC,QAAAA,OAAO,EAAE;AACL,0BAAgB,kBADX;AAEL,2BAAiB,YAAYP;AAFxB;AAFoE,OAArD,CAA5B;AAQA,YAAMQ,YAAY,GAAG,MAAMJ,QAAQ,CAACK,IAAT,EAA3B;;AAEA,UAAGL,QAAQ,CAACM,EAAZ,EAAgB;AACZb,QAAAA,YAAY,CAAC,IAAD,CAAZ;AACAE,QAAAA,WAAW,CAACS,YAAY,CAACG,IAAd,CAAX;AACH,OAHD,MAIK;AACDC,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACH;AAEA,KAnBD,CAoBA,MAAM;AACFD,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACH;;AACDlB,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACH,GA3BD;;AA6BA,WAASmB,GAAT,GAAe;AAAA;;AACXzB,IAAAA,SAAS,CAAC,MAAM;AACZc,MAAAA,UAAU;AACb,KAFQ,EAEN,EAFM,CAAT;AAGD;;AAvCe,KAmCTW,GAnCS;;AAwChBA,EAAAA,GAAG;AAEL,sBACI;AAAA,4BACI;AAAK,MAAA,GAAG,EAAEtB,IAAV;AAAgB,MAAA,EAAE,EAAC,QAAnB;AAA4B,MAAA,GAAG,EAAC;AAAhC;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAI,MAAA,SAAS,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,EAGKE,OAAO,iBAAI,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,YAHhB,EAIK,CAACA,OAAD,IAAYE,SAAZ,iBAAyB,QAAC,WAAD;AAAa,MAAA,IAAI,EAAEE;AAAnB;AAAA;AAAA;AAAA;AAAA,YAJ9B;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAQH,CAlDD;;IAAML,O;;KAAAA,O;AAoDN,eAAeA,OAAf","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport Loading from '../Component/Loading'\r\nimport UserProfile from '../Component/userProfile'\r\nimport user from '../images/user.png'\r\n\r\nconst Profile = () => {\r\n\r\n    const [loading, setIsLoading] = useState()\r\n    const [userFound, setUserFound] = useState()\r\n    const [userData, setUserData] = useState()\r\n    const token = localStorage.getItem(\"token\")\r\n    const getProfile = async () => {\r\n        setIsLoading(true);\r\n        //console.log(\"called\");\r\n        try{\r\n        const response = await fetch('https://sumon-backend.herokuapp.com/api/profile' , {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': 'Bearer ' + token\r\n            }\r\n        });\r\n        \r\n        const responseData = await response.json();\r\n        \r\n        if(response.ok) {\r\n            setUserFound(true)\r\n            setUserData(responseData.data)\r\n        }\r\n        else {\r\n            console.log(\"Error\")\r\n        }\r\n          \r\n        }\r\n        catch {\r\n            console.log(\"oops\")\r\n        }\r\n        setIsLoading(false)\r\n    };\r\n\r\n    function App() {\r\n        useEffect(() => {\r\n            getProfile()\r\n        }, []);\r\n      } \r\n      App();\r\n\r\n    return(\r\n        <div>\r\n            <img src={user} id=\"person\" alt=\"Responsive image\"></img>\r\n            <h1 className=\"pr\">My Profile</h1>\r\n            {loading && <Loading />}\r\n            {!loading && userFound && <UserProfile data={userData}/>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile"]},"metadata":{},"sourceType":"module"}