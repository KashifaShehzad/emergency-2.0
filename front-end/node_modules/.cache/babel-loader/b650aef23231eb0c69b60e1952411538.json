{"ast":null,"code":"var _jsxFileName = \"E:\\\\emergency-handling-react-node\\\\front-end\\\\src\\\\Component\\\\getServiceForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport './adminLogin.css';\nimport Loading from './Loading';\nimport { Form } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst GetServiceForm = props => {\n  _s();\n\n  const [serviceType, setServiceType] = useState(\"police\");\n  const [location, setLocation] = useState(\"Registered Location\");\n  const [msg, setMsg] = useState();\n  const [isLoading, setIsLoading] = useState();\n  let token = localStorage.getItem(\"token\");\n\n  const locationSetHandler = e => {\n    const val = e.target.value;\n    setLocation(val);\n    const element = document.getElementById('color');\n    if (val === 'others') element.style.display = 'block';else element.style.display = 'none';\n  };\n\n  const serviceSet = e => {\n    setServiceType(e.target.value);\n  };\n\n  const getServiceNow = async e => {\n    console.log(location, serviceType);\n    setIsLoading(true);\n    e.preventDefault();\n    console.log(\"called signup\");\n\n    try {\n      const response = await fetch('hhttps://sumon-backend.herokuapp.com/api/help', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + token\n        },\n        body: JSON.stringify({\n          location,\n          type: serviceType\n        })\n      });\n      const responseData = await response.json();\n\n      if (response.ok) {\n        if (responseData.data.length > 0) {\n          setMsg(\"Data Found Successfully\");\n          console.log(responseData);\n          props.assignUser(responseData.user);\n          props.assignData(responseData.data);\n          props.assignType(serviceType);\n        } else {\n          setMsg(\"Sorry, no data found\");\n        }\n      } else if (response.status === 400) {\n        setMsg(\"Service Type Error\");\n      } else if (response.status === 400) {\n        setMsg(\"Error Help Type\");\n      } else {\n        setMsg(\"Something Bad, Contact Developers\");\n      }\n\n      setIsLoading(false);\n    } catch {\n      setIsLoading(false);\n    }\n  };\n\n  const locationSet = e => {\n    setLocation(e.target.value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [isLoading && /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 23\n    }, this), !isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"serviceType\",\n        onChange: serviceSet,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"service\",\n          children: \"Service type:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"police\",\n          children: \"Police Station\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"fire\",\n          children: \"Fire Service\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"others\",\n          children: \"Others\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"location\",\n        onChange: locationSetHandler,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \" Location\",\n          children: \"Location:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Registered Location\",\n          children: \"Registered Location\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"others\",\n          children: \"Others\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 22\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        type: \"text\",\n        name: \"location\",\n        onChange: locationSet,\n        placeholder: \"others\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pt-3\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          onClick: getServiceNow,\n          children: \"Get Help Now\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: msg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 9\n  }, this);\n};\n\n_s(GetServiceForm, \"U865b98aTF8HxcQb+ZzARM1aU4s=\");\n\n_c = GetServiceForm;\nexport default GetServiceForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"GetServiceForm\");","map":{"version":3,"sources":["E:/emergency-handling-react-node/front-end/src/Component/getServiceForm.js"],"names":["React","useState","Loading","Form","GetServiceForm","props","serviceType","setServiceType","location","setLocation","msg","setMsg","isLoading","setIsLoading","token","localStorage","getItem","locationSetHandler","e","val","target","value","element","document","getElementById","style","display","serviceSet","getServiceNow","console","log","preventDefault","response","fetch","method","headers","body","JSON","stringify","type","responseData","json","ok","data","length","assignUser","user","assignData","assignType","status","locationSet"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\r\nimport './adminLogin.css'\r\nimport Loading from './Loading'\r\nimport { Form } from 'react-bootstrap';\r\n\r\n\r\nconst GetServiceForm = (props) =>{\r\n    \r\n    const [serviceType, setServiceType] = useState(\"police\");\r\n    const[location, setLocation] = useState(\"Registered Location\");\r\n    const [msg, setMsg] = useState();\r\n    const [isLoading, setIsLoading] = useState();\r\n    let token = localStorage.getItem(\"token\")\r\n\r\n\r\n    const locationSetHandler= (e) =>{\r\n        const val = e.target.value\r\n        setLocation(val)\r\n        const element= document.getElementById('color');\r\n        if(val==='others')\r\n            element.style.display='block';\r\n        else  \r\n            element.style.display='none';\r\n        }\r\n\r\n        const serviceSet= (e) => {\r\n            setServiceType(e.target.value)\r\n        }\r\n\r\n\r\n        const getServiceNow = async (e) => {\r\n            console.log(location, serviceType)\r\n            setIsLoading(true)\r\n            e.preventDefault();\r\n            console.log(\"called signup\");\r\n            try{\r\n                const response = await fetch('hhttps://sumon-backend.herokuapp.com/api/help' , {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                },\r\n                body: JSON.stringify({\r\n                    location, type:serviceType\r\n                })\r\n            \r\n            });\r\n            const responseData = await response.json();\r\n\r\n            if(response.ok) { \r\n                if(responseData.data.length > 0) {\r\n                setMsg(\"Data Found Successfully\")\r\n                console.log(responseData)\r\n                props.assignUser(responseData.user)\r\n                props.assignData(responseData.data)\r\n                props.assignType(serviceType)\r\n                }\r\n                else {setMsg(\"Sorry, no data found\")}\r\n                \r\n            }\r\n            else if (response.status===400) {setMsg(\"Service Type Error\")}\r\n            else if (response.status===400) {setMsg(\"Error Help Type\")}\r\n            else {setMsg(\"Something Bad, Contact Developers\");}\r\n            setIsLoading(false)\r\n \r\n        \r\n        }\r\n            catch {\r\n                setIsLoading(false)\r\n            }\r\n        }\r\n        \r\n        const locationSet = (e) => {\r\n            setLocation(e.target.value)\r\n        }\r\n        \r\n    \r\n    return(\r\n        <React.Fragment>\r\n        {isLoading && <Loading/>}\r\n        {!isLoading &&\r\n        <div className=\"App\">\r\n            <select name=\"serviceType\" onChange={serviceSet}>\r\n            <option value=\"service\">Service type:</option>\r\n                <option value=\"police\">Police Station</option>\r\n                <option value=\"fire\">Fire Service</option>\r\n                <option value=\"others\">Others</option>\r\n            </select>\r\n\r\n            <select name=\"location\" onChange={locationSetHandler} >\r\n            <option value=\" Location\">Location:</option>\r\n                <option value=\"Registered Location\">Registered Location</option>\r\n                <option value=\"others\">Others</option>\r\n            </select><br/>\r\n            <Form.Control type=\"text\" name=\"location\" onChange={locationSet} placeholder=\"others\"></Form.Control>\r\n            <div className=\"pt-3\">\r\n            <button type=\"submit\" onClick={getServiceNow}>Get Help Now</button></div>\r\n            <p>{msg}</p>\r\n        </div>\r\n        }\r\n        </React.Fragment>\r\n        \r\n    )\r\n}\r\n\r\nexport default GetServiceForm"]},"metadata":{},"sourceType":"module"}